{"version":3,"sources":["transit.ts"],"names":[],"mappings":";;;;;;;;AAEA,OAAO,kBAAkB,MAAM,4BAA4B,CAAC;AAU3D,CAAC;AAEF,MAAM,kBAAkB,KAAU,EAAE,QAAgB,EAAE,MAAe,EAAE,KAAc;IACnF,IAAM,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,GAAsB,CAAC,aAAa,GAAG;QACtC,QAAQ,UAAA;QACR,MAAM,EAAE,MAAM,IAAI,MAAM;QACxB,KAAK,EAAE,KAAK,KAAK,SAAS,GAAG,KAAK,GAAG,CAAC;KACvC,CAAC;IACF,MAAM,CAAC,GAAG,CAAC;AACb,CAAC;AAED,IAAM,qBAAqB,GAAG,eAAe,CAAC;AAE9C,MAAM,yBAAyB,KAAoB,EAAE,UAAc;IAAd,2BAAA,EAAA,cAAc;IACjE,IAAI,cAAc,GAAa,EAAE,CAAC;IAClC,IAAI,YAAY,GAAa,EAAE,CAAC;IAChC,IAAI,cAAc,gBAAQ,KAAK,CAAE,CAAC;IAClC,GAAG,CAAC,CAAC,IAAM,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC;QAC7B,IAAM,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAK,GAAsB,CAAC,aAAa,CAAC,CAAC,CAAC;YAC1D,IAAA,sBAAiE,EAAhE,sBAAQ,EAAE,kBAAM,EAAE,gBAAK,CAA0C;YACxE,IAAM,MAAI,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAM,UAAU,GAAM,MAAI,SAAI,QAAQ,WAAM,MAAM,UAAI,KAAK,GAAG,UAAU,QAAI,CAAC;YAC7E,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAChC,YAAY,CAAC,IAAI,CAAC,MAAI,CAAC,CAAC;YACxB,cAAc,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC;IACH,CAAC;IACD,EAAE,CAAC,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QAC9B,cAAc,CAAC,UAAU,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,cAAsB,CAAC,gBAAgB,GAAG,cAAc;YACvD,MAAM,CAAC,UAAC,IAAI,EAAE,CAAC;YACb,OAAA,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,qBAAqB,CAAC;gBAC7C,YAAY,CAAC,OAAO,CAAC,UAAU,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QADtD,CACsD,CAAC;YACzD,IAAI,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IACD,MAAM,CAAC,cAAc,CAAC;AACxB,CAAC","file":"transit.js","sourcesContent":["import { CSSProperties } from \"react\";\n\nimport convertToCSSPrefix from \"./utils/convertToCSSPrefix\";\n\ninterface TransitionParams {\n  duration: number;\n  timing?: string;\n  delay?: number;\n}\n\ninterface AugmentedArray extends Array<any> {\n  transitParams: TransitionParams;\n};\n\nexport function transit(value: any, duration: number, timing?: string, delay?: number): any {\n  const ret = [value];\n  (ret as AugmentedArray).transitParams = {\n    duration,\n    timing: timing || \"ease\",\n    delay: delay !== undefined ? delay : 0,\n  };\n  return ret;\n}\n\nconst nonWebkitPrefixRegexp = /^-(moz|ms|o)-/;\n\nexport function resolveTransit(style: CSSProperties, extraDelay = 0): CSSProperties {\n  let transitionList: string[] = [];\n  let propertyList: string[] = [];\n  let processedStyle = { ...style };\n  for (const property in style) {\n    const val = style[property];\n    if (Array.isArray(val) && (val as AugmentedArray).transitParams) {\n      const {duration, timing, delay} = (val as AugmentedArray).transitParams;\n      const name = convertToCSSPrefix(property);\n      const transition = `${name} ${duration}ms ${timing} ${delay + extraDelay}ms`;\n      transitionList.push(transition);\n      propertyList.push(name);\n      processedStyle[property] = val[0];\n    }\n  }\n  if (transitionList.length > 0) {\n    processedStyle.transition = transitionList.join(\", \");\n    (processedStyle as any).WebkitTransition = transitionList.\n      filter((item, i) =>\n        !propertyList[i].match(nonWebkitPrefixRegexp) &&\n        propertyList.indexOf(\"-webkit-\" + propertyList[i]) < 0).\n      join(\", \");\n  }\n  return processedStyle;\n}\n"]}