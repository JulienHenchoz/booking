{"version":3,"sources":["reducer.ts"],"names":[],"mappings":"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","file":"reducer.js","sourcesContent":["/* tslint:disable: variable-name no-switch-case-fall-through */\n\nimport { CSSProperties } from \"react\";\n\nimport { CSSTransitionProps, CSSTransitionDelay } from \"./csstransition\";\nimport { resolveTransit } from \"./transit\";\n\nexport interface TransitionState {\n  id?: StateID;\n  style?: CSSProperties;\n  className?: string;\n  inTransition?: boolean;\n}\n\nexport enum StateID {\n  EntryPoint,\n  DefaultNew,\n  ActiveNew,\n  AppearNew,\n  Default,\n  Active,\n  AppearInit,\n  AppearPrepare,\n  AppearTriggered,\n  AppearStarted,\n  EnterInit,\n  EnterPrepare,\n  EnterTriggered,\n  EnterStarted,\n  LeaveInit,\n  LeavePrepare,\n  LeaveTriggered,\n  LeaveStarted,\n}\n\nexport const StateIDList = [\n  StateID.ActiveNew, StateID.DefaultNew, StateID.AppearNew,\n  StateID.Active, StateID.Default,\n  StateID.AppearInit, StateID.AppearTriggered, StateID.AppearStarted,\n  StateID.EnterInit, StateID.EnterTriggered, StateID.EnterStarted,\n  StateID.LeaveInit, StateID.LeaveTriggered, StateID.LeaveStarted,\n  StateID.AppearPrepare, StateID.EnterPrepare, StateID.LeavePrepare,\n];\n\nexport enum ActionID {\n  New,\n  Mount,\n  TransitionInit,\n  TransitionPrepare,\n  TransitionTrigger,\n  TransitionStart,\n  TransitionComplete,\n  Timeout,\n}\n\nexport type ActionPropKeys =\n  \"active\"\n  | \"transitionAppear\"\n  | \"transitionDelay\"\n  | \"defaultStyle\"\n  | \"activeStyle\"\n  | \"appearStyle\"\n  | \"enterStyle\"\n  | \"leaveStyle\"\n  | \"appearInitStyle\"\n  | \"enterInitStyle\"\n  | \"leaveInitStyle\"\n  | \"defaultClassName\"\n  | \"activeClassName\"\n  | \"appearClassName\"\n  | \"enterClassName\"\n  | \"leaveClassName\"\n  | \"appearInitClassName\"\n  | \"enterInitClassName\"\n  | \"leaveInitClassName\";\n\nexport const actionPropKeys: ActionPropKeys[] = [\n  \"active\",\n  \"transitionAppear\",\n  \"transitionDelay\",\n  \"defaultStyle\",\n  \"activeStyle\",\n  \"appearStyle\",\n  \"enterStyle\",\n  \"leaveStyle\",\n  \"appearInitStyle\",\n  \"enterInitStyle\",\n  \"leaveInitStyle\",\n  \"defaultClassName\",\n  \"activeClassName\",\n  \"appearClassName\",\n  \"enterClassName\",\n  \"leaveClassName\",\n  \"appearInitClassName\",\n  \"enterInitClassName\",\n  \"leaveInitClassName\",\n];\n\nexport type ActionProps = {[P in ActionPropKeys]?: CSSTransitionProps[P]};\n\nexport type Action = {\n  kind: ActionID;\n  props: ActionProps;\n};\n\nexport const transitionNames = [\"enter\", \"leave\", \"appear\"];\n\nexport function hasTransition(name: string, props: any): boolean {\n  const result = props[name + \"Style\"] !== undefined || props[name + \"ClassName\"] !== undefined;\n  return !result && name === \"appear\"\n    ? hasTransition(\"enter\", props)\n    : result;\n}\n\nexport function getDelay(name: string, delay: CSSTransitionDelay): number {\n  if (!delay) { return 0; }\n  if (typeof delay === \"number\") {\n    return delay as number;\n  }\n  return (delay as any)[name] ? (delay as any)[name] : 0;\n}\n\nexport type GetStateParams = { mode?: \"init\" | \"prepare\" };\n\nexport function getState(id: StateID, name: string, props: any, params: GetStateParams = {}): TransitionState {\n  if (name === \"appear\" && !props.appearStyle && !props.appearClassName) {\n    return getState(id, \"enter\", props, params);\n  }\n  let style: any;\n  let className: string;\n  let inTransition = false;\n  if (params.mode === \"init\" || params.mode === \"prepare\") {\n    style = props[name + \"InitStyle\"];\n    className = props[name + \"InitClassName\"];\n    if (style === undefined && className === undefined) {\n      if (name === \"enter\" || name === \"appear\") {\n        style = props.defaultStyle;\n        className = props.defaultClassName;\n      } else if (name === \"leave\") {\n        style = props.activeStyle;\n        className = props.activeClassName;\n      }\n    }\n    // Setting transition before starting one fixes issues on IE & Edge...\n    if (params.mode === \"prepare\" && style !== undefined) {\n      const tmp = resolveTransit(props[name + \"Style\"], getDelay(name, props.transitionDelay));\n      if (tmp.transition) {\n        style = { ...style, transition: tmp.transition };\n      }\n    }\n  } else {\n    style = props[name + \"Style\"];\n    className = props[name + \"ClassName\"];\n    if ([\"enter\", \"appear\", \"leave\"].indexOf(name) >= 0) {\n      inTransition = true;\n      style = resolveTransit(style, getDelay(name, props.transitionDelay));\n    }\n  }\n\n  style = style || {};\n  className = className || \"\";\n\n  return {\n    id,\n    style,\n    className,\n    inTransition,\n  };\n}\n\nexport function stateFunc(id: StateID, name: string, params: GetStateParams = {}) {\n  return (props: Action[\"props\"]) => getState(id, name, props, params);\n}\n\nexport const activeNewState = stateFunc(StateID.ActiveNew, \"active\");\nexport const defaultNewState = stateFunc(StateID.DefaultNew, \"default\");\nexport const appearNewState = stateFunc(StateID.AppearNew, \"appear\", { mode: \"init\" });\nexport const activeState = stateFunc(StateID.Active, \"active\");\nexport const defaultState = stateFunc(StateID.Default, \"default\");\nexport const appearInitState = stateFunc(StateID.AppearInit, \"appear\", { mode: \"init\" });\nexport const enterInitState = stateFunc(StateID.EnterInit, \"enter\", { mode: \"init\" });\nexport const leaveInitState = stateFunc(StateID.LeaveInit, \"leave\", { mode: \"init\" });\nexport const appearPrepareState = stateFunc(StateID.AppearPrepare, \"appear\", { mode: \"prepare\" });\nexport const enterPrepareState = stateFunc(StateID.EnterPrepare, \"enter\", { mode: \"prepare\" });\nexport const leavePrepareState = stateFunc(StateID.LeavePrepare, \"leave\", { mode: \"prepare\" });\nexport const appearTriggeredState = stateFunc(StateID.AppearTriggered, \"appear\");\nexport const enterTriggeredState = stateFunc(StateID.EnterTriggered, \"enter\");\nexport const leaveTriggeredState = stateFunc(StateID.LeaveTriggered, \"leave\");\nexport const appearStartedState = stateFunc(StateID.AppearStarted, \"appear\");\nexport const enterStartedState = stateFunc(StateID.EnterStarted, \"enter\");\nexport const leaveStartedState = stateFunc(StateID.LeaveStarted, \"leave\");\n\nconst invalidTransitionError = (stateID: StateID, actionID: ActionID) => {\n  return new Error(`invalid state transition from ${StateID[stateID]} with ${ActionID[actionID]}`);\n};\n\nexport type Reducer = (stateID: StateID, action: Action) =>\n  { state: TransitionState, pending?: ActionID, completed?: boolean };\n\nexport const reducer: Reducer = (stateID, action) => {\n  const props = action.props;\n  let nextState: TransitionState;\n\n  switch (action.kind) {\n    case ActionID.New:\n      if (stateID !== StateID.EntryPoint) { throw new Error(\"invalid entrypoint\"); }\n      if (props.active) {\n        if (props.transitionAppear) { return { state: appearNewState(props) }; }\n        return { state: activeNewState(props) };\n      }\n      if (!props.transitionAppear && props.active) { return { state: activeNewState(props) }; }\n      return { state: defaultNewState(props) };\n    case ActionID.Mount:\n      switch (stateID) {\n        case StateID.AppearNew:\n          return reducer(stateID, { kind: ActionID.TransitionTrigger, props });\n        default:\n          return null;\n      }\n    case ActionID.TransitionInit:\n      switch (stateID) {\n        case StateID.DefaultNew:\n        case StateID.Default:\n          if (!hasTransition(\"enter\", props)) {\n            return { state: activeState(props), completed: true };\n          }\n          nextState = enterInitState(props);\n          break;\n        case StateID.ActiveNew:\n        case StateID.Active:\n          if (!hasTransition(\"leave\", props)) {\n            return { state: defaultState(props), completed: true };\n          }\n          nextState = leaveInitState(props);\n          break;\n        case StateID.AppearNew:\n          if (!hasTransition(\"appear\", props)) {\n            return { state: activeState(props), completed: true };\n          }\n          nextState = appearInitState(props);\n          break;\n        default:\n          throw invalidTransitionError(stateID, action.kind);\n      };\n      return { state: nextState, pending: ActionID.TransitionPrepare };\n    case ActionID.TransitionPrepare:\n      switch (stateID) {\n        case StateID.EnterInit:\n          if (!props.active) { return { state: defaultState(props), completed: true }; }\n          nextState = enterPrepareState(props);\n          break;\n        case StateID.LeaveInit:\n          if (props.active) { return { state: activeState(props), completed: true }; }\n          nextState = leavePrepareState(props);\n          break;\n        case StateID.AppearInit:\n          if (!props.active) { return { state: defaultState(props), completed: true }; }\n          nextState = appearPrepareState(props);\n          break;\n        default:\n          throw invalidTransitionError(stateID, action.kind);\n      };\n      return { state: nextState, pending: ActionID.TransitionTrigger };\n    case ActionID.TransitionStart:\n      switch (stateID) {\n        case StateID.EnterTriggered:\n          return { state: enterStartedState(props) };\n        case StateID.LeaveTriggered:\n          return { state: leaveStartedState(props) };\n        case StateID.AppearTriggered:\n          return { state: appearStartedState(props) };\n        default:\n          // We don't error out, because the workaround for transitionstart\n          // could happen after transitionend.\n          return null;\n      }\n    case ActionID.TransitionComplete:\n      switch (stateID) {\n        case StateID.AppearTriggered:\n        case StateID.AppearStarted:\n        case StateID.EnterTriggered:\n        case StateID.EnterStarted:\n          return { state: activeState(props), completed: true };\n        case StateID.LeaveTriggered:\n        case StateID.LeaveStarted:\n          return { state: defaultState(props), completed: true };\n        default:\n          throw invalidTransitionError(stateID, action.kind);\n      }\n    case ActionID.TransitionTrigger:\n      switch (stateID) {\n        case StateID.ActiveNew:\n        case StateID.Active:\n        case StateID.DefaultNew:\n        case StateID.Default:\n        case StateID.AppearNew:\n          return reducer(stateID, { kind: ActionID.TransitionInit, props });\n        case StateID.EnterInit:\n          return { state: defaultState(props), completed: true };\n        case StateID.LeaveInit:\n          return { state: activeState(props), completed: true };\n        case StateID.AppearInit:\n          return { state: defaultState(props), completed: true };\n        case StateID.EnterPrepare:\n          if (props.active) { return { state: enterTriggeredState(props) }; }\n          return { state: defaultState(props), completed: true };\n        case StateID.LeavePrepare:\n          if (!props.active) { return { state: leaveTriggeredState(props) }; }\n          return { state: activeState(props), completed: true };\n        case StateID.AppearPrepare:\n          if (props.active) { return { state: appearTriggeredState(props) }; }\n          return { state: defaultState(props), completed: true };\n        case StateID.EnterTriggered:\n          return { state: defaultState(props), completed: true };\n        case StateID.LeaveTriggered:\n          return { state: activeState(props), completed: true };\n        case StateID.AppearTriggered:\n          return { state: defaultState(props), completed: true };\n        case StateID.AppearStarted:\n        case StateID.EnterStarted:\n          return { state: leaveStartedState(props) };\n        case StateID.LeaveStarted:\n          return { state: enterStartedState(props) };\n        default:\n          throw invalidTransitionError(stateID, action.kind);\n      }\n    case ActionID.Timeout:\n      switch (stateID) {\n        case StateID.AppearTriggered:\n        case StateID.AppearStarted:\n        case StateID.EnterTriggered:\n        case StateID.EnterStarted:\n          return { state: activeState(props), completed: true };\n        case StateID.LeaveTriggered:\n        case StateID.LeaveStarted:\n          return { state: defaultState(props), completed: true };\n        default:\n          throw invalidTransitionError(stateID, action.kind);\n      }\n    default:\n  }\n  throw new Error(\"unexpected error\");\n};\n"]}