{"version":3,"sources":["lifecycle.ts"],"names":[],"mappings":";AAAA,yCAAgF;AAEnE,QAAA,qBAAqB,GAAG,UAAC,IAAkC,EAAE,QAA8B;IACtG,OAAA,CAAC,EAAE,iBAAiB,EAAE,CAAC,EAAE,IAAI,MAAA,EAAE,QAAQ,EAAE,UAAC,KAAU,IAAK,OAAA,cAAM,OAAA,QAAQ,CAAC,KAAK,CAAC,EAAf,CAAe,EAArB,CAAqB,EAAE,CAAC,EAAE,CAAe;AAAlG,CAAkG,CAAC;AAExF,QAAA,wBAAwB,GAAG,UAAC,IAAkC,EAAE,QAAuC;IAClH,OAAA,CAAC;QACC,iBAAiB,EAAE;YACjB,IAAI,SAAc,CAAC;YACnB,MAAM,CAAC;gBACL,yBAAa,CAAC,UAAC,KAAU;oBACvB,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC;wBAC5B,SAAS,GAAG,KAAK,CAAC;oBACpB,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBACf,CAAC,CAAC;gBACF;oBACE,IAAI,MAAA,EAAE,QAAQ,EAAE,UAAC,KAAU,IAAK,OAAA;wBAC9B,IAAM,YAAY,GAAG,SAAS,CAAC;wBAC/B,SAAS,GAAG,KAAK,CAAC;wBAClB,IAAM,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;wBAC7C,MAAM,CAAC,MAAM,CAAC;oBAChB,CAAC,EAL+B,CAK/B;iBACF;aACF,CAAC;QACJ,CAAC;KACF,CAAe;AApBhB,CAoBgB,CAAC","file":"lifecycle.js","sourcesContent":["import { Composable, LifeCycleCallbackTypes, propsCallback } from \"./blueprint\";\n\nexport const createSimpleLifecycle = (kind: keyof LifeCycleCallbackTypes, callback: (props: any) => void) =>\n  ({ instanceCallbacks: [{ kind, callback: (props: any) => () => callback(props) }] }) as Composable;\n\nexport const createComparingLifecycle = (kind: keyof LifeCycleCallbackTypes, callback: (prev: any, next: any) => any) =>\n  ({\n    instanceCallbacks: () => {\n      let prevProps: any;\n      return [\n        propsCallback((props: any) => {\n          if (prevProps === undefined) {\n            prevProps = props;\n          }\n          return props;\n        }),\n        {\n          kind, callback: (props: any) => () => {\n            const prevPropsTmp = prevProps;\n            prevProps = props;\n            const result = callback(prevPropsTmp, props);\n            return result;\n          },\n        },\n      ];\n    },\n  }) as Composable;\n"]}